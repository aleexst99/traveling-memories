<section class="perfil-container">
  @if (user(); as u) {
    <!-- ðŸ§‘ Header -->
    <app-perfil-header [user]="u" />

    <!-- âš™ï¸ Acciones -->
    <div class="perfil-actions">
      <button class="btn-primary" (click)="abrirModal()">âž• AÃ±adir viaje</button>

      <select (change)="filtrarPorContinente($any($event.target).value)">
        @for (c of continentes(); track c) {
          <option [selected]="c === filtroContinente()" [value]="c">{{ c }}</option>
        }
      </select>
    </div>

    <!-- ðŸ“Š Dashboard -->
    <div class="perfil-stats">
      <p><strong>{{ viajesRealizados() }}</strong> viajes realizados</p>
      <p><strong>{{ viajesWishlist() }}</strong> en wishlist</p>
      <p><strong>{{ porcentajeContinentes() }}%</strong> continentes visitados</p>
    </div>

    <!-- ðŸ—ºï¸ Mapa -->
    <app-perfil-mapa [user]="u" />

    <!-- âœˆï¸ Lista de viajes -->
    <app-viajes-lista-dos [viajes]="viajesFiltrados()" [wishlist]="u.wishlist" />
  } @else {
    <div class="loading">
      <p>Cargando usuario...</p>
    </div>
  }
</section>
